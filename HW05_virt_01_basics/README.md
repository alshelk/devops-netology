# Домашнее задание к занятию "1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.


    - Полная виртуализация, это подход при котором гостевые ОС могут напрямую работать с
    аппаратными ресурсами хостовой машины, при поддержке ей специальной процессорной архитектуры

    - Паравиртуализация, это подход при котором специальные программы являются посредниками 
    между гостевой ОС, предоставляя ей гостевой API и аппаратными ресурсами хоста. Для каждой гостевой ОС 
    они эмулируют аппаратные ресурсы и незначительно модифицируют ядро. Для работы таких программ 
    требуется установка ОС на хост.

    - Виртуализация на основе ОС, запускает несколько экземпляров изолированных виртуальных машин
    на одном хосте, с тем же ядром, что и у хостовой ОС. Такие VM чаще называют контейнерами.

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

    * Высоконагруженная база данных, чувствительная к отказу. - Физический сервер.
    Т.к. требуется максимальная производительность и минимальное время отклика, резерв за счет
    дублирования. Так же возможно использовать полную аппаратную виртуализацию и кластеризацию для 
    отказоустойчивости и повышения доступности

    * Различные web-приложения. - виртуализация уровня ОС.
    Т.к. контейнерами проще управлять, быстро разворачивать, масштабировать в зависимости от нагрузки. 
    
    * Windows системы для использования бухгалтерским отделом. - Физический сервер, 
    аппаратная виртуализация или паравиртуализация. В зависимости от задач. 
    Физический сервер или аппаратная виртуализация для сервера(кластера) 1с + база данных.
    Паравиртуализация для файловых баз 1с и других бухгалтерских систем 
    не требующих максимальной производительности.

    * Системы, выполняющие высокопроизводительные расчеты на GPU. - физические сервера или 
    аппаратная виртуализация. 
    Физический сервер, максимальная производительность от видеокарты.
    Аппаратная виртуализация или паравиртуализация - позволит максимально утилизировать видеокарту разделяя ее между
    виртуальными хостами или пробросить разные GPU к отдельной виртуальной машине.
    


## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

   
    1. ESXi или vSphere (зависит от бюджета). Т.к. нет ограничений по ОС на виртуальных машинах. 
    С vSphere реализация всех требований упростится. Включая управление, репликации и резервирование.
    
    2. Xen или KVM, оба open source решения, хорошо себя зарекомендовавшие. Стоит выбрать то 
    с которым больше знаком или работал.  
   
    3. Free Microsoft Hyper-V - будет максимально совместимым для Windows инфраструктуры.
    Но гостевые системы windows все равно нужно лицензировать.

    4. Например, Docker позволит быстро и просто создавать контейнеры для тестирования и 
    автоматизировать этот процесс.
   

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

    Использование нескольких систем управления виртуализацией само по себе является проблемой.
    Различные системы, требуют разных методов управления (разные консоли, разные скрипты, 
    возможно и разные ОС). Физические ресурсы тоже придется разделять. Так же важной проблемой
    являются различные навыки в обслуживании различных систем (вполне возможно что придется нанимать
    разных специалистов для разных систем или дополнительно обучать имеющегося, знакомого 
    только с одной системой). Так для разных систем будут разные аппаратные требования (например
    для VMWare есть список поддерживаемого железа, а Hyoer-V можно запустить на любом сервере 
    поддерживаемом Windows Server).
    
    Что касается применения разных сред - то они имеют свои преимущества, какие-то проще в освоении, 
    но дороже, какие-то дешевле или бесплатные, но сложнее в освоении, какие-то быстры в развертывании.
    Думаю в зависимости от задач гетерогенные системы вполне могут существовать. (например
    развернуть основную инфраструктуру на VMWare ESXi, а тестовые среды в Docker или VirtualBox.)

    Я бы предпочел однородную среду, котрой легче управлять, обновлять, расширять из единого центра.
    Например, ESXi в этом плане хорошее решение. Хотя приходится поддерживать совместимость версий 
    со старым железом которое до сих пор находится в эксплуатации. И не поддерживается новыми версиями
    ESXi. 